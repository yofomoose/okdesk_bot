# –ü–æ–ª—É—á–µ–Ω–∏–µ API —Ç–æ–∫–µ–Ω–∞ Okdesk

## üîë –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Okdesk: `https://yapomogu55.okdesk.ru`
- –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å—å—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API
- –ù–∞–π–¥–∏—Ç–µ –≤ –º–µ–Ω—é **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏"** –∏–ª–∏ **"Settings"**
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"API"** –∏–ª–∏ **"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"**

### 3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
- –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å —Ç–æ–∫–µ–Ω"** –∏–ª–∏ **"Add Token"**
- –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Telegram Bot")

### 4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–∞–≤–∞:
- ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞—è–≤–æ–∫** (View Issues)
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫** (Create Issues)
- ‚úÖ **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫** (Edit Issues)
- ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** (View Comments)
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤** (Create Comments)
- ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–ø–∞–Ω–∏–π** (View Companies)
- ‚úÖ **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (View Users)

### 5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è **–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ** —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω
- ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –¢–æ–∫–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

### –§–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞
–¢–æ–∫–µ–Ω –æ–±—ã—á–Ω–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫:
```
4cf96e5bb33f06481e4aff5ff0a2aa740ce8490a
```

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### 1. –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
```
‚ùå Error 401: "–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã"
```
**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–∞–Ω–µ–ª–∏ Okdesk

#### 2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
```
‚ùå Error 403: "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"
```
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω—É

#### 3. –¢–æ–∫–µ–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
```
‚ùå Error 401: "–¢–æ–∫–µ–Ω –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω"
```
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Ç–æ–∫–µ–Ω–∞ –≤ –ø–∞–Ω–µ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

#### 4. –ù–µ–≤–µ—Ä–Ω—ã–π URL
```
‚ùå Connection error
```
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ —Ñ–æ—Ä–º–∞—Ç–µ `https://–≤–∞—à-–¥–æ–º–µ–Ω.okdesk.ru/api/v1`

## üõ† –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã

### –ï—Å–ª–∏ –Ω–µ –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —Ä–∞–∑–¥–µ–ª API:
1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∏—Å–∫–∞—Ç—å **"Webhook"** –∏–ª–∏ **"–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏"**
2. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É Okdesk
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ Okdesk

### –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ:
1. –í–æ–∑–º–æ–∂–Ω–æ, API –æ—Ç–∫–ª—é—á–µ–Ω –≤ –≤–∞—à–µ–º —Ç–∞—Ä–∏—Ñ–µ
2. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Okdesk
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª
BOT_TOKEN=–≤–∞—à_telegram_—Ç–æ–∫–µ–Ω
OKDESK_API_URL=https://yapomogu55.okdesk.ru/api/v1
OKDESK_API_TOKEN=–Ω–æ–≤—ã–π_—Ç–æ–∫–µ–Ω_okdesk

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω
python check_token.py

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Ç–µ—Å—Ç
python test_api.py
```

## üìû –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Okdesk**: –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –¥—Ä—É–≥–æ–π API
2. **–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Okdesk**: –£—Ç–æ—á–Ω–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è API
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Postman/curl**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –≤—Ä—É—á–Ω—É—é

### –ü—Ä–∏–º–µ—Ä —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
curl -H "Authorization: Token –≤–∞—à_—Ç–æ–∫–µ–Ω" \
     -H "Content-Type: application/json" \
     https://yapomogu55.okdesk.ru/api/v1/companies?limit=1
```

–ï—Å–ª–∏ —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–Ω–∞—á–∏—Ç –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–æ–¥–µ –±–æ—Ç–∞.
–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–∫–µ–Ω–µ –∏–ª–∏ –µ–≥–æ –ø—Ä–∞–≤–∞—Ö.
